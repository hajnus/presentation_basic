<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Feladatlista Diavetítés</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            overflow: hidden;
        }

        #slideshow {
            text-align: center;
        }

        .image-container img {
            width: 85vw; /* Kép szélessége az oldal szélességének 85%-a */
            max-width: 1000px; /* Maximum 1000px szélesség */
            height: auto; /* Magasság automatikus */
        }

        .thumbnails-wrapper {
            width: 85vw; /* Thumbnail sáv szélessége a nagy kép szélességével egyezik */
            overflow-x: auto; /* Görgetősáv engedélyezése */
            margin: 0 auto;
            white-space: nowrap; /* Thumbnailok egymás mellett */
        }

        .thumbnails {
            display: inline-flex;
            align-items: center;
            margin-top: 10px;
            position: relative; /* A thumbnailokat itt pozícionáljuk */
        }

        .thumbnails img {
            width: 100px;
            height: 60px;
            margin: 0 5px;
            cursor: pointer;
            vertical-align: middle;
        }

        .thumbnails img.active {
            border-bottom: 10px solid black; /* Thumbnail aláhúzása */
        }

        .controls {
            margin: 20px 0;
        }

        button {
            border: none;
            border-radius: 15px; /* Kerekített sarkok 15px */
            padding: 10px 20px;
            font-size: 16px;
            cursor: pointer;
            margin: 5px;
            background-color: cyan;
            color: black;
        }

        button.active {
            background-color: black;
            color: white;
        }

        button.disabled {
            background-color: black;
            color: white;
        }
    </style>
</head>
<body>
    <div id="slideshow">
        <div class="image-container">
            <img id="currentImage" src="" alt="Slideshow Image">
        </div>
        <p id="currentText"></p>
        <div class="thumbnails-wrapper">
            <div class="thumbnails" id="thumbnails">
                <!-- Thumbnail képek ide kerülnek -->
            </div>
        </div>
        <div class="controls">
            <button id="previousImage">Previous</button>
            <button id="nextImage">Next</button>
            <button id="pause">Pause</button>
            <button id="resume">Resume</button>
            <button id="reset">Reset</button>
            <button id="home">Home</button>
        </div>
    </div>

    <script>
        const images = Array.from({ length: 45 }, (_, index) => ({
            src: `https://placekitten.com/800/600?image=${index}`, // Kép helyettesítő URL
            text: `Kép ${index + 1} leírása.`, // Minden képhez tartozik egy leírás
        }));

        let currentIndex = 0;
        let isPaused = false;
        let speechSynthesisUtterance = null;
        const imageElement = document.getElementById('currentImage');
        const textElement = document.getElementById('currentText');
        const thumbnailsElement = document.getElementById('thumbnails');

        // Beállítjuk a kezdeti képet és szöveget
        function updateSlide(index) {
            if (index < 0 || index >= images.length) return;
            currentIndex = index;
            imageElement.src = images[index].src;
            textElement.textContent = images[index].text;
            updateThumbnails();
            readText(images[index].text);
        }

        // Szöveg felolvasása
        function readText(text) {
            if (speechSynthesisUtterance) {
                speechSynthesis.cancel(); // Ha folyamatban van egy felolvasás, azt megszakítjuk
            }

            speechSynthesisUtterance = new SpeechSynthesisUtterance(text);
            speechSynthesisUtterance.lang = 'hu-HU';

            speechSynthesisUtterance.onend = function() {
                if (!isPaused) {
                    nextImage();
                }
            };

            speechSynthesis.speak(speechSynthesisUtterance);
        }

        // Következő kép
        function nextImage() {
            if (currentIndex < images.length - 1) {
                updateSlide(currentIndex + 1);
            }
        }

        // Előző kép
        function previousImage() {
            if (currentIndex > 0) {
                updateSlide(currentIndex - 1);
            }
        }

        // Pause, resume, reset funkciók
        document.getElementById('pause').addEventListener('click', function() {
            isPaused = true;
            speechSynthesis.pause();
        });

        document.getElementById('resume').addEventListener('click', function() {
            isPaused = false;
            speechSynthesis.resume();
        });

        document.getElementById('reset').addEventListener('click', function() {
            isPaused = false;
            updateSlide(0);
        });

        document.getElementById('previousImage').addEventListener('click', function() {
            isPaused = false;
            previousImage();
        });

        document.getElementById('nextImage').addEventListener('click', function() {
            isPaused = false;
            nextImage();
        });

        // Thumbnail kattintások
        function createThumbnail(image, index) {
            const thumbnail = document.createElement('img');
            thumbnail.src = image.src;
            thumbnail.addEventListener('click', function() {
                isPaused = false;
                updateSlide(index);
            });
            thumbnailsElement.appendChild(thumbnail);
        }

        // Frissíti a thumbnailokat
        function updateThumbnails() {
            const thumbnails = document.querySelectorAll('.thumbnails img');
            thumbnails.forEach((thumb, index) => {
                thumb.classList.toggle('active', index === currentIndex);
            });
        }

        // Thumbnail képek létrehozása
        images.forEach((image, index) => {
            createThumbnail(image, index);
        });

        // Induláskor az első kép megjelenítése
        updateSlide(currentIndex);
    </script>
</body>
</html>
